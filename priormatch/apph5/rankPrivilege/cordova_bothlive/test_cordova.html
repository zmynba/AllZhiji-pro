
<html>
    <head>
        <title data-react-helmet="true">test cordova</title>
        <meta charSet="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
        <style>
            .box{
                position: relative;
                text-align: center;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100%;
                height: 200;
            }
            .box p{
                
            }
        </style>
    </head>
    <body>
        <div class="box">
            <h2><p>test cordova</p></h2>
        </div>
        
        <div class="box">
            <button onclick="openShare();">openShare</button>
        </div>
        
        <div class="box">
            <button onclick="getAppVersion();">getAppVersion</button>
        </div>
        
        <script type="text/javascript" src="cordova.js"></script>
        
        <script type="text/javascript">
        
            function appVersoinSuccess(appVersion)
            {
                alert("appVersion: " + appVersion);
            }
            
            function appVersoinFailure(err)
            {
                alert(err);
            }
        
            function getAppVersion()
            {
                var appVersion = window.BothLive.getAppVersion(appVersoinSuccess, appVersoinFailure);
            }
        
            function shareSuccess(info)
            {
                alert(info);
            }
            
            function shareFailure(err)
            {
                alert(err);
            }
        
            function openShare()
            {
                var shareImgUrl = "图片地址";
                var shareContent = "分享内容";
                var shareUrl = "分享url";
                var shareTitle = "分享标题";
                
                var params = {shareImgUrl, shareContent, shareUrl, shareTitle};
                window.BothLive.share(shareSuccess, shareFailure, params);
            }
        
            function showShareSuccess(info)
            {
                alert(info);
            }
            
            function showShareFailure(err)
            {
                alert(err);
            }
        
            function navBackClicked () {
                goToBack(true);
            }

            function goToBack(toBack) {
                window.WorldAre.goToBackHistory(null, null, {"gotoBack": toBack});
            }

            function enableBackHistory(enable) {
                window.WorldAre.enableBackHistory(null, null, {"enable": enable});
            }
            
            function deviceready()
            {
                /*
                "LOG",
                "ERROR",
                "WARN",
                "INFO",
                "DEBUG"
                 */
                //window.console.useLogger(true);
                //window.console.level("DEBUG");
                //window.console.debug("prepare call showShareIcon");
                
                var showShare = true;
                var shareImgUrl = "图片地址";
                var shareContent = "分享内容";
                var shareUrl = "分享url";
                var shareTitle = "分享标题";
                
                var params = {showShare, shareImgUrl, shareContent, shareUrl, shareTitle};
                window.BothLive.showShareIcon(showShareSuccess, showShareFailure, params);

                enableBackHistory(true);

                var show = true;
                var carId = "";
                params = {show, carId};
                window.BothLive.CarMarket.showPreviewIcon(previewSuccess, prewviewFailure, params);

                show = false;
                params = {show};
                window.BothLive.CarMarket.showQuestionIcon(nil, nil, params);
            }
            
            document.addEventListener('deviceready', deviceready, false);
            
            function buyCoinSuccess () {

            }

            function buyCoinFailure () {

            }

            function gotoBuyCoin(goodsId) {
                var params = {goodsId};
                BothLive.gotoBuyCoin(buyCoinSuccess, buyCoinFailure, params);
            }

            function prewviewFailure () {

            }

            function previewSuccess () {

            }
        </script>
        
    </body>
</html>
